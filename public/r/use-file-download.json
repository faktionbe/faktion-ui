{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-file-download",
  "type": "registry:hook",
  "title": "Use File Download",
  "description": "A hook to download a binary date",
  "dependencies": [
    "axios",
    "@tanstack/react-query"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/hooks/use-file-download.tsx",
      "content": "import { useMutation } from '@tanstack/react-query';\nimport axios from 'axios';\n\nexport interface UseFileDownloadProps {\n  mutationKey: string;\n  path: string;\n}\nexport const useFileDownload = ({\n  mutationKey,\n  path,\n}: UseFileDownloadProps) => {\n  const {\n    mutateAsync: downloadFile,\n    data,\n    ...props\n  } = useMutation({\n    mutationKey: ['download', mutationKey],\n    mutationFn: async () => {\n      const response = await axios.get(path, {\n        responseType: 'blob',\n      });\n\n      const fileName =\n        response.headers['content-disposition'].split('filename=')[1];\n      const contentType = response.headers['content-type'].split(';')[0];\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const blob = response.data as Blob;\n      const text = await blob.text();\n      return { fileName, contentType, url, blob, text };\n    },\n  });\n\n  return { downloadFile, ...props, data };\n};\n",
      "type": "registry:hook"
    }
  ],
  "categories": [
    "hooks"
  ]
}