{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table",
  "type": "registry:component",
  "title": "Data Table",
  "description": "A data table component",
  "dependencies": [
    "@tanstack/react-table"
  ],
  "registryDependencies": [
    "table",
    "@faktion/pagination",
    "@faktion/column-header",
    "@faktion/selectable-row",
    "@faktion/selectable-header"
  ],
  "files": [
    {
      "path": "registry/components/table/data-table.tsx",
      "content": "import { type ComponentType } from 'react';\nimport {\n  flexRender,\n  type Row,\n  Table as TanstackTable,\n} from '@tanstack/react-table';\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { cn } from '@/lib/utils';\nimport { Pagination } from '@/registry/components/table/pagination';\n\ninterface DataTableProps<TData> {\n  table: TanstackTable<TData>;\n  empty?: string;\n  isNested?: boolean;\n  expansion?: ComponentType<{ row: Row<TData> }>;\n  onRowClick?: (row: Row<TData>) => void;\n}\n\nexport const DataTable = <TData,>({\n  table,\n  empty,\n  isNested = false,\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  expansion: Expansion,\n  onRowClick,\n}: DataTableProps<TData>) => {\n  const columns = table.getAllColumns();\n\n  return (\n    <div className='flex flex-col gap-4'>\n      <div\n        className={cn({\n          'rounded-md border': !isNested,\n        })}>\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map((header) => (\n                  <TableHead key={header.id}>\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(\n                          header.column.columnDef.header,\n                          header.getContext()\n                        )}\n                  </TableHead>\n                ))}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows.length ? (\n              table.getRowModel().rows.map((row) => (\n                <>\n                  <TableRow\n                    key={row.id}\n                    data-state={row.getIsSelected() && 'selected'}\n                    data-clickable={typeof onRowClick === 'function'}\n                    onClick={() => onRowClick?.(row)}>\n                    {row.getVisibleCells().map((cell) => (\n                      <TableCell key={cell.id}>\n                        {flexRender(\n                          cell.column.columnDef.cell,\n                          cell.getContext()\n                        )}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                  {row.getIsExpanded() && Expansion && (\n                    <TableRow>\n                      <td colSpan={columns.length}>\n                        <Expansion row={row} />\n                      </td>\n                    </TableRow>\n                  )}\n                </>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell\n                  colSpan={columns.length}\n                  className='h-24 text-center'>\n                  {empty ?? 'No results'}\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n      {!isNested && <Pagination table={table} />}\n    </div>\n  );\n};\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "table"
  ]
}