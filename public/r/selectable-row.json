{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "selectable-row",
  "type": "registry:component",
  "title": "Selectable Row",
  "description": "A selectable row component",
  "dependencies": [
    "@tanstack/react-table"
  ],
  "registryDependencies": [
    "checkbox",
    "@faktion/radio-group"
  ],
  "files": [
    {
      "path": "registry/components/table/selectable-row.tsx",
      "content": "import { type MouseEventHandler, useCallback } from 'react';\nimport { type Row } from '@tanstack/react-table';\n\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup } from '@/registry/components/radio-group';\n\n/**\n * https://tanstack.com/table/v8/docs/guide/row-selection#render-row-selection-ui\n */\ninterface SelectableRowProps<DataType> {\n  row: Row<DataType>;\n  multiSelect?: boolean;\n}\n\nconst SelectableRow = <DataType,>({\n  row,\n  multiSelect = true,\n}: SelectableRowProps<DataType>) => {\n  const handleCheckedChange = useCallback(\n    (checked: boolean) => {\n      row.toggleSelected(checked);\n    },\n    [row]\n  );\n\n  const handleValueChange = useCallback(() => {\n    row.toggleSelected(!row.getIsSelected());\n  }, [row]);\n\n  const handleClick: MouseEventHandler<HTMLButtonElement | HTMLDivElement> =\n    useCallback((event) => {\n      event.stopPropagation();\n    }, []);\n\n  const handleSpanClick: MouseEventHandler<HTMLSpanElement> = useCallback(\n    (event) => {\n      event.stopPropagation();\n      row.toggleSelected(!row.getIsSelected());\n    },\n    [row]\n  );\n\n  return multiSelect ? (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <span\n      className='p-1'\n      onClick={handleSpanClick}>\n      <Checkbox\n        checked={row.getIsSelected()}\n        disabled={!row.getCanSelect()}\n        onCheckedChange={handleCheckedChange}\n        onClick={handleClick}\n      />\n    </span>\n  ) : (\n    <RadioGroup\n      value={row.getIsSelected() ? row.id : undefined}\n      onValueChange={handleValueChange}\n      options={[{ value: row.id }]}\n      onClick={handleClick}\n    />\n  );\n};\n\nexport { SelectableRow };\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "table"
  ]
}